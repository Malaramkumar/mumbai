:root{
  --primary:#ff6f00; /* Elsevier orange accent */
  --primary-2:#e85f00;
  --text:#1f2937; --muted:#6b7280; --light:#f7f7fb; --white:#fff; --border:#e5e7eb;
  --success:#198754; --danger:#dc3545;
  --shadow-sm:0 2px 8px rgba(0,0,0,.06);
  --shadow-md:0 8px 24px rgba(0,0,0,.08);
  --shadow-lg:0 16px 40px rgba(0,0,0,.12);
  --radius:12px; --radius-sm:8px; --gutter:24px; --sidebar:280px; --header-h:64px; --maxw:860px;
  --tr:all .3s cubic-bezier(.4,0,.2,1);
}
html{scroll-behavior:smooth; scroll-padding-top:var(--header-h)}
.sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap}

.ecp-layout{display:grid;grid-template-columns:var(--sidebar) 1fr var(--sidebar);gap:var(--gutter);
  padding:clamp(16px,4vw,32px);max-width:1400px;margin:0 auto;min-height:100vh;background:var(--light)}
@keyframes fIn{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:none}}
@keyframes fLeft{from{opacity:0;transform:translateX(-16px)}to{opacity:1;transform:none}}
@keyframes fRight{from{opacity:0;transform:translateX(16px)}to{opacity:1;transform:none}}
.fade-in{animation:fIn .6s ease-out both}.fade-in-left{animation:fLeft .5s ease-out both}.float-in-right{animation:fRight .5s ease-out .15s both}

/* TOC */
.ecp-aside--left{position:sticky;top:calc(var(--header-h) + 12px);align-self:start;height:fit-content;z-index:10;
  background:var(--white);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-sm);overflow:hidden}
.ecp-sidebar-header{display:flex;justify-content:space-between;align-items:center;gap:8px;padding:16px;border-bottom:1px solid var(--border);
  background:linear-gradient(135deg,#fff,#f6f7fb)}
.ecp-sidebar-title{margin:0;font-size:.9rem;font-weight:800;letter-spacing:.6px;text-transform:uppercase;color:var(--text)}
.ecp-section-count{font-size:.75rem;color:var(--muted);background:#fff3e8;padding:4px 8px;border-radius:999px}
.ecp-toc{padding:8px 8px 12px;max-height:calc(100vh - 180px);overflow:auto}
.ecp-toc-list{list-style:none;margin:0;padding:0}
.ecp-toc-item{margin:4px 0}
.ecp-toc-link{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 12px;text-decoration:none;color:var(--muted);
  border:1px solid transparent;border-radius:10px;transition:var(--tr)}
.ecp-toc-link:hover,.ecp-toc-link:focus{background:#fff8f1;color:var(--primary);outline:none}
.ecp-toc-link.is-active{color:var(--primary);background:#fff2e6;border-color:#ffe2cc;box-shadow:var(--shadow-sm)}
.ecp-toc-text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.ecp-toc-indicator{width:22px;height:2px;background:var(--primary);border-radius:2px;opacity:.85}

/* Main */
.ecp-main{min-width:0}
.ecp-container{background:var(--white);border-radius:var(--radius);box-shadow:var(--shadow-md);overflow:hidden;max-width:var(--maxw);margin:0 auto}
.ecp-header{padding:clamp(28px,5vw,44px);border-bottom:1px solid var(--border);background:linear-gradient(135deg,#fff,#faf7f4)}
.ecp-title{margin:0 0 10px;font-size:clamp(1.8rem,3.5vw,2.3rem);font-weight:900;color:var(--text);letter-spacing:-.02em}
.ecp-lead{margin:0;color:var(--muted);font-size:1.05rem;max-width:70ch}

.ecp-section{padding:32px clamp(20px,4vw,40px);border-bottom:1px solid var(--border)}
.ecp-section:last-of-type{border-bottom:none}
.ecp-section-title{margin:0 0 16px;font-size:clamp(1.3rem,2.8vw,1.65rem);font-weight:800;color:var(--text);
  scroll-margin-top:calc(var(--header-h) + 48px)}
.ecp-paragraph{color:var(--text);line-height:1.75;margin:0 0 14px}
.ecp-footer{color:var(--muted);font-style:italic;border-left:3px solid var(--primary);padding-left:12px;margin-top:10px}

/* Lists */
.ecp-ul,.ecp-ol{margin:16px 0 10px;padding-left:22px}
.ecp-li{margin-bottom:10px;color:var(--text);line-height:1.65}
.ecp-ol .ecp-li::marker{color:var(--primary);font-weight:700}

/* Table */
.ecp-table-wrapper{overflow-x:auto;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-sm);margin:16px 0;background:#fff}
.ecp-table{width:100%;border-collapse:collapse;min-width:560px;font-size:.95rem}
.ecp-th{text-align:left;padding:14px 12px;background:#fff4ea;border-bottom:2px solid var(--border);color:var(--text);font-weight:800}
.ecp-td{padding:14px 12px;border-bottom:1px solid var(--border);color:var(--text)}
.ecp-td--stage{font-weight:800;color:var(--primary);background:#fffaf5}
.ecp-td--time{text-align:center;font-weight:700;color:var(--success)}

/* FAQs */
.ecp-faqs-grid{display:grid;gap:10px;margin-top:8px}
.ecp-faq{border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;transition:var(--tr)}
.ecp-faq[open]{box-shadow:var(--shadow-md);background:#fffdf9}
.ecp-faq-q{padding:14px 16px;cursor:pointer;font-weight:700;color:var(--text);background:#fff7ef}
.ecp-faq-a{padding:0 16px 16px}

/* Right Aside Cards */
.ecp-aside--right{position:sticky;top:calc(var(--header-h) + 12px);align-self:start;height:fit-content}
.ecp-card{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-sm);margin-bottom:var(--gutter);overflow:hidden;transition:var(--tr)}
.ecp-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.ecp-card-header{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:14px 16px;border-bottom:1px solid var(--border);
  background:linear-gradient(135deg,#fff,#fff4ea)}
.ecp-card-title{margin:0;font-size:1rem;font-weight:800;color:var(--text)}
.ecp-card-badge{font-size:.75rem;color:#fff;background:var(--primary);padding:4px 8px;border-radius:999px}
.ecp-card-list{list-style:none;margin:0;padding:8px 16px 14px}
.ecp-card-item{padding:8px 0;color:var(--text)}
.ecp-cta-button{width:100%;border:none;background:linear-gradient(135deg,var(--primary),var(--primary-2));color:#fff;font-weight:800;
  padding:10px 14px;border-radius:10px;cursor:pointer;transition:var(--tr)}
.ecp-cta-button:hover{transform:translateY(-2px)}
.ecp-quick-links .ecp-quick-link{display:block;padding:8px 12px;border-radius:8px;color:var(--muted);text-decoration:none;transition:var(--tr)}
.ecp-quick-links .ecp-quick-link:hover{background:#fff2e6;color:var(--primary)}

/* Responsive */
@media (max-width:1100px){:root{--sidebar:240px;--maxw:800px}}
@media (max-width:980px){
  .ecp-layout{grid-template-columns:var(--sidebar) 1fr}
  .ecp-aside--right{display:none}
}
@media (max-width:768px){
  :root{--sidebar:100%;--header-h:0;--maxw:100%}
  .ecp-layout{grid-template-columns:1fr;gap:16px;padding:16px;background:#fff}
  .ecp-aside--left{position:static!important}
  .ecp-container{border-radius:10px;box-shadow:none;border:1px solid var(--border)}
  .ecp-header{padding:20px}
  .ecp-section{padding:20px}
  .ecp-table-wrapper{margin:12px -20px;border-left:none;border-right:none;border-radius:0}
}

/* Focus Rings */
.ecp-toc-link:focus-visible,.ecp-quick-link:focus-visible,.ecp-cta-button:focus-visible,.ecp-faq-q:focus-visible{
  outline:2px solid var(--primary);outline-offset:2px
}

